h3. EventAI Tables

"creature_ai_scripts":creature_ai_scripts
"creature_ai_summons":creature_ai_summons
"creature_ai_texts":creature_ai_texts

h2. EventAI Documentation

The Manual-like and most-recent documentation for EventAI can be found in "doc/EventAI.txt":https://github.com/cmangos/mangos-wotlk/blob/master/doc/EventAI.txt

h2. EventAI Guide

ScriptDev2 was integrated into cmangos on 04 sept 2015 and enables us to handle DB-based scripting that allows the use of a database (MySQL only right now) to specify the actions that a creature script will do.

The script is called EventAI and will be referenced like this for the rest of this guide. A basic EventAI script works with and requires only two pieces of information: <u>When it happens</u> and <u>What happens when</u>. 

The first piece of information (the <u>When it happens</u>) will be referred to as the <u>event</u>.

The second piece of information (the <u>What happens when</u>) will be referred to as the <u>action</u>. 
Currently, a single EventAI script entry can have up to three actions.

Anyone that wants to create entries for the EventAI script needs to answer the two questions above.

Some events will only occur once while others can be timed so that they occur at a specified interval.

h3. Structure

|*Field*|*Type*|*Null*|*Key*|*Default*|*Description*|
|"id":creature_ai_script#id||NO|PRI|None|Primary Key|
|"creature_id":creature_ai_script#id||NO|||CreatureEntry|
|"event_type":creature_ai_script#event_type||NO|||Event|
|"event_inverse_phase_mask":creature_ai_script#event_inverse_phase_mask||NO|||PhaseMask|
|"event_chance":creature_ai_script#event_chance||NO|||Chance. Using a value of 0 in this field will make the event never occur. Values are from 0 to 100.|
|"event_flags":creature_ai_script#event_flags||NO|||Every event also has a `chance` field that controls the chance of that event actually occurring. Using a value of 0 in this field will make the event never occur. Values are from 0 to 100.|
|"event_param":creature_ai_script#event_param||NO|||event_param1-3 for Event|
|"action_type":creature_ai_script#action_type||NO|||action_type1-3 for Event|
|"action_param":creature_ai_script#action_param||NO|||action_param1-3 for action_type1-3|
|"comment":creature_ai_script#comment|||||comment describing the actions performed on event|

Example:

let's say that a certain creature using EventAI will have a max of four phases. We are then dealing with a 4 bit number in this field. Let's further say that that certain creature has an event that will only trigger in its phase 2 (a timed spell cast for instance). Then the field should contain all of the phases the event SHOULDN'T be triggered in...then out of the four bits, we leave the *third* bit alone (off) and turn on all of the other bits so we get 1011 which is equal to 11, so we put in 11 as the inverse phase mask for the event entry. As another example, let's say that the same creature previously mentioned has another event that is only triggered in the phase 0 and phase 3. This would mean that we need to ignore phase 1 and 2, so our bitmask would be 0110 which is equal to 6 so we put in 6 for this event's inverse phase mask field. Please note that both examples were tailored for a creature with four and only four phases. If you decide to add more phases later on, you will have to redefine all of the nonzero bitmasks for all of the mob's events.

EventAI can also support phases. A <u>phase</u> is just a way to group certain events + actions together so that the creature will perform certain actions based on what event it is currently on. The way the phase system works in EventAI is that for every event added, it needs to be specified under which phases the event <u>SHOULD NOT</u> occur. This is a bit confusing at first, so let's look at it more closely. A creature can have more than one phase, up to a max of 32 different phases (with the first one being phase 0, and last one being phase 31). How the phase selection field works is that it contains a 32bit number. Each bit in the number represents a possible phase, with the bit in the least significant position signifying phase 0 and the most significant bit signifying phase 31. The default value of zero in this field has no bits set and since the field controls when the event should NOT trigger, it would then mean that the event will always be triggered independent of the current phase the creature is in. Therefore, if you want to specify what phases the event should occur in, you need to add up all of the corresponding bits for all the other phases where the event shouldn't trigger in (confusing...yes).

All of the "events":creature_ai_script#event_type, "actions":creature_ai_script#action_type and possible "targets":creature_ai_script#Target are summarized and described below.

*NU = Not Used*
*IC = In Combat Only*
*OOC = Out Of Combat Only*

h4. event_type

|ID|_. Name|_. Param1|_. Param2|_. Param3|_. Param4|_. Description|
|0|EVENT_T_TIMER_IN_COMBAT|InitialMin|InitialMax|RepeatMin|RepeatMax|IC - Expires first between (Param1) and (Param2) and then between every (Param3) and (Param4)|
|1|EVENT_T_TIMER_OOC|InitialMin|InitialMax|RepeatMin|RepeatMax|OOC - Expires first between (Param1) and (Param2) and then between every (Param3) and (Param4)|
|2|EVENT_T_HP|HPMax%|HPMin%|RepeatMin|RepeatMax|IC - Expires when HP is between (Param1) and (Param2). Will repeat every (Param3) and (Param4)|
|3|EVENT_T_MANA|ManaMax%|ManaMin%|RepeatMin|RepeatMax|IC - Expires once Mana% is between (Param1) and (Param2). Will repeat every (Param3) and (Param4)|
|4|EVENT_T_AGGRO|NU|NU|NU|NU|Expires upon initial aggro (does not repeat)|
|5|EVENT_T_KILL|RepeatMin|RepeatMax|NU|NU|Expires upon killing a player. Will repeat every (Param1) and (Param2)|
|6|EVENT_T_DEATH|NU|NU|NU|NU|Expires upon Death|
|7|EVENT_T_EVADE|NU|NU|NU|NU|Expires upon creature EnterEvadeMode()|
|8|EVENT_T_SPELLHIT|SpellID|School|RepeatMin|RepeatMax|Expires upon Spell hit. If (param1) is set will only expire on that spell. If (param2) will only expire on spells of that school. Will repeat every (Param3) and (Param4)|
|9|EVENT_T_RANGE|MinDist|MaxDist|RepeatMin|RepeatMax|Expires when the highest threat target distance is greater than (Param1) and less than (Param2). Will repeat every (Param3) and (Param4)|
|10|EVENT_T_OOC_LOS|NoHostile|NoFriendly|RepeatMin|RepeatMax|Expires when a Player moves within visible distance to creature. Does not expire for Hostile Players if (Param1) is not 0. Does not expire for Friendly Players if (Param2) is not 0. Will repeat every (Param3) and (Param4) . Does not expire for creatures or pet or when the creature is in combat|
|11|EVENT_T_SPAWNED|NU|NU|NU|NU|Expires at initial spawn and at creature respawn|
|12|EVENT_T_TARGET_HP|HPMax%|HPMin%|RepeatMin|RepeatMax|Expires when Current Target's HP is between (Param1) and (Param2). Will repeat every (Param3) and (Param4)|
|13|EVENT_T_TARGET_CASTING|RepeatMin|RepeatMax|NU|NU|Expires when the player is casting a spell. Will repeat every (Param1) and (Param2)|
|14|EVENT_T_FRIENDLY_HP|HPDeficit|Radius|RepeatMin|RepeatMax|Expires when a friendly unit in radius(param2) has at least (param1) HP missing. Will repeat every (Param3) and (Param4)|
|15|EVENT_T_FRIENDLY_IS_CC|DispelType|Radius|RepeatMin|RepeatMax|Expires when a friendly unit is Crowd controlled within the given radius (param2). Will repeat every (Param3) and (Param4)|
|16|EVENT_T_FRIENDLY_MISSING_BUFF|SpellId|Radius|RepeatMin|RepeatMax|Expires when a friendly unit is missing aura's given by spell (param1) within radius (param2). Will repeat every (Param3) and (Param4)|
|17|EVENT_T_SUMMONED_UNIT|CreatureId|RepeatMin|RepeatMax|NU|Expires after creature with entry(Param1) is spawned or for all spawns if param1 = 0. Will repeat every (Param2) and (Param3)|
|18|EVENT_T_TARGET_MANA|ManaMax%|ManaMin%|RepeatMin|RepeatMax|Expires when Current Target's MP is between (Param1) and (Param2). Will repeat every (Param3) and (Param4)|
|21|EVENT_T_REACHED_HOME|NU|NU|NU|NU|Expires when creature reach it's home(spawn) location after Evade|
|22|EVENT_T_RECEIVE_EMOTE|EmoteId|Condition|CondValue1|CondValue2|Expires when creature receive emote with text emote id(enum TextEmotes). Condition can be defined. If set, then most conditions has additional value (see enum ConditionType)|
|23|EVENT_T_AURA|SpellId|AmmountInStack|RepeatMin|RepeatMax|Expires when creature have spell (Param1) auras applied stack greater or equal provided in Param2 amount. Will repeat every (Param3) and (Param4)|
|24|EVENT_T_TARGET_AURA|SpellId|AmmountInStack|RepeatMin|RepeatMax|Expires when target unit have spell (Param1) auras applied stack greater or equal provided in Param2 amount. Will repeat every (Param3) and (Param4)|
|25|EVENT_T_SUMMONED_JUST_DIED|CreatureId|RepeatMin|RepeatMax|NU|Expires after creature with entry = (Param1) is die (Param1 = 0 means all spawns). Will repeat every (Param2) and (Param3)|
|26|EVENT_T_SUMMONED_JUST_DESPAWN|CreatureId|RepeatMin|RepeatMax|NU|Expires before creature with entry = (Param1) is despawn (Param1 = 0 means all spawns). Will repeat every (Param2) and (Param3)|
|27|EVENT_T_MISSING_AURA|SpellID|AmmountInStack|RepeatMin|RepeatMax|Param1 = SpellID, Param2 = Number of time stacked expected, Param3/4 Repeat Min/Max|
|28|EVENT_T_TARGET_MISSING_AURA|SpellID|AmmountInStack|RepeatMin|RepeatMax|Param1 = SpellID, Param2 = Number of time stacked expected, Param3/4 Repeat Min/Max|
|29|EVENT_T_TIMER_GENERIC|InitialMin|InitialMax|RepeatMin|RepeatMax|InitialMin, InitialMax, RepeatMin, RepeatMax|
|30|EVENT_T_RECEIVE_AI_EVENT|AIEventType|Sender-Entry|NU|NU|AIEventType, Sender-Entry, NU, NU|
|31|EVENT_T_ENERGY|EnergyMax%|EnergyMin%|RepeatMin|RepeatMax|EnergyMax%, EnergyMin%, RepeatMin, RepeatMax|
|32|EVENT_T_SELECT_ATTACKING_TARGET|MinRange|MaxRange|RepeatMin|RepeatMax|MinRange, MaxRange, RepeatMin, RepeatMax|
|33|EVENT_T_FACING_TARGET|BackOrFront|NU|RepeatMin|RepeatMax|BackOrFront (behind = 0 / infront = 1, NU, RepeatMin, RepeatMax|

Now that all of the supported events have been listed and described, we shall now move on to the actions that can be performed. Each event can take up to three actions. The actions will all be performed when the event is triggered and they will be performed in the order that they have been defined. This means that, for a certain event, action 1 will be performed first, followed by action 2, then lastly by action 3. Just like event definitions, each action can use up to three different parameters but not all actions will use all three parameters. If a parameter isn't mentioned for an action, then that action does not need that parameter.

Before we start to list and explain the different actions that can be taken, we must first look at how the EventAI targeting system works. Due to technical reasons in how targetting is handled, the EventAI script cannot target anything or anyone that is not in its threat list or is not the scripted creature itself. It also can't currently target anyone specific in its threat list except by their position in the threat list. However, even then it can only target specifically the current victim, the second unit in its threat list, and the last unit in its threat list. It can also target units in its threat list at random and has two options for that: anyone in its threat list at random, or anyone in its threat list excluding the unit with the most threat. Aside from all of those external targets, the script can always target itself. More information on the "Target":creature_ai_script#Target can be found in the reference tables at the end of this guide.

One last note before we start looking at individual actions is about the texts. The EventAI script has support for localized text entries. Therefore, you can define what the mob will say in more than one language all in another table and the script will show the corresponding localized text to the corresponding client (english text to enUS/enGB clients, german text to deDE clients, etc). All of the localized text entries will have a unique text ID assigned to them and it is that text ID that will be used by any actions that require textual input.

h4. action_type

|ID|_. Name|_. Param 1|_. Param 2|_. Param 3|_. Description|
|0|ACTION_T_NONE|NU|NU|NU|NU|Does nothing|
|1|ACTION_T_TEXT|-TextId1,|-TextId2,|-TextId3|deprecated, use 54 for 1 / 4+ texts and texts that require targeting*: Displays the -TextId as defined. In case -TextId2 and optionally -TextId3, the output will be randomized. Type text are defined in the "creature_ai_texts":creature_ai_texts table (say, yell, whisper, etc) along with other options for the text. All values are required to be negative|
|2|ACTION_T_SET_FACTION|FactionId|Flags|NU|Changes faction for a creature. When param1 is zero, creature will revert to it's default faction. Flags will determine when faction is restored to default (evade, respawn etc)|
|3|ACTION_T_MORPH_TO_ENTRY_OR_MODEL|CreatureEntry|modelId|NU|Creature_template entry(param1) OR modelId (param2) (or 0 for both to demorph)|
|4|ACTION_T_SOUND|SoundId|NU|NU|Creature plays sound|
|5|ACTION_T_EMOTE|EmoteId|NU|NU|Creature does visual emote|
|6|ACTION_T_RANDOM_SAY|NU|NU|NU|deprecated|
|7|ACTION_T_RANDOM_YELL|NU|NU|NU|deprecated|
|8|ACTION_T_RANDOM_TEXTEMOTE|NU|NU|NU|deprecated|
|9|ACTION_T_RANDOM_SOUND|Sound ID 1|Sound ID 2|Sound ID 3|Picks a sound ID at random and plays it; -1 = action skipped if chosen|
|10|ACTION_T_RANDOM_EMOTE|Emote ID 1|Emote ID 2|Emote ID 3|Picks an emote ID at random and does visual emote; -1 = action skipped if chosen|
|11|ACTION_T_CAST|Spell ID|"Target":creature_ai_script#Target|"castFlags":creature_ai_script#castFlags|Casts spell on a target with specified "castFlags":creature_ai_script#castFlags|
|12|ACTION_T_SPAWN|CreatureEntry|"Target":creature_ai_script#Target|Duration&#42;|Spawns a creature at itself for a given duration (infinite if zero, only with t_type != 0) that will attack a target|
|13|ACTION_T_THREAT_SINGLE_PCT|Threat %|"Target":creature_ai_script#Target|NU|Modifies the target's threat by a percent|
|14|ACTION_T_THREAT_ALL_PCT|Threat %|NU|NU|Modifies everyone's threat by a percent|
|15|ACTION_T_QUEST_EVENT|Quest ID|"Target":creature_ai_script#Target|NU|Satisfies external script objective for a quest for the target (must be a player)|
|16|ACTION_T_CAST_EVENT|CreatureEntry|Spell ID|"Target":creature_ai_script#Target|Emulates spell cast on the creature for the target (must be a player) [hacky]|
|17|ACTION_T_SET_UNIT_FIELD|Field_Number|Value|"Target":creature_ai_script#Target|Sets unit field at the index to the value given for the target|
|18|ACTION_T_SET_UNIT_FLAG|Flag(s)|"Target":creature_ai_script#Target|NU|Sets flag(s) on the target|
|19|ACTION_T_REMOVE_UNIT_FLAG|Flag(s)|"Target":creature_ai_script#Target|NU|Removes flag(s) from the target|
|20|ACTION_T_AUTO_ATTACK|Boolean|NU|NU|If 0, stops auto melee; else continues/starts it|
|21|ACTION_T_COMBAT_MOVEMENT|Boolean|NU|NU|If 0, stops combat movement; else continues/starts it|
|22|ACTION_T_SET_PHASE|Phase #|NU|NU|Sets current phase to number given|
|23|ACTION_T_INC_PHASE|Number|NU|NU|Increments (or decrements) the phase by given number|
|24|ACTION_T_EVADE|NU|NU|NU|Force creature reset. Exit combat + lose threat|
|25|ACTION_T_FLEE_FOR_ASSIST|NU|NU|NU|Force creature to flee from combat|
|26|ACTION_T_QUEST_EVENT_ALL|Quest ID|NU|NU|Satisfies external objective for a quest for all players in threat list|
|27|ACTION_T_CAST_EVENT_ALL|Quest ID|Spell ID|NU|Emulates spell cast on creature for all players in threat list|
|28|ACTION_T_REMOVEAURASFROMSPELL|"Target":creature_ai_script#Target|Spell ID|NU|Removes all auras from a spell ID from the target|
|29|ACTION_T_RANGED_MOVEMENT|Distance|Angle|NU|Uses ranged movement generator keeping the creature at a distance|
|30|ACTION_T_RANDOM_PHASE|Phase 1|Phase 2|Phase 3|Randomly chooses a phase from the list of three phases|
|31|ACTION_T_RANDOM_PHASE_RANGE|Min Phase|Max Phase|NU|Chooses a random phase in the range specified|
|32|ACTION_T_SUMMON_ID|CreatureEntry|"Target":creature_ai_script#Target|Summon ID|Summons a creature at the coords specified for the given summon id that will attack a target|
|33|ACTION_T_KILLED_MONSTER|CreatureEntry|"Target":creature_ai_script#Target|NU|Simulates a kill for a mob of ID given for the player from the "Target":creature_ai_script#Target|
|34|ACTION_T_SET_INST_DATA|Field|Value|NU|Sets new value for the field given in the instance script|
|35|ACTION_T_SET_INST_DATA64|Field|"Target":creature_ai_script#Target|NU|Stores target's GUID at the field given in the instance script|
|36|ACTION_T_UPDATE_TEMPLATE|Entry|Fraction|NU|Temporarily changes creature entry to new entry|
|37|ACTION_T_DIE|NU|NU|NU|Kills the creature|
|38|ACTION_T_ZONE_COMBAT_PULSE|NU|NU|NU|Places all players within the instance into combat with the creature. Only works in combat and only works inside of instances|
|39|ACTION_T_CALL_FOR_HELP|Radius|NU|NU|Call any friendly creatures (if its not in combat/etc) in radius attack creature target|
|40|ACTION_T_SET_SHEATH|Sheath|NU|NU|Let set sheath state for creature (0-no weapon show (not used mostly by creatures), 1-melee weapon show, 2-ranged weapon show)|
|41|ACTION_T_FORCE_DESPAWN|delay|NU|NU|Despawns the creature, If 0 despawn instant, other despawn after delay (in ms)|
|42|ACTION_T_SET_INVINCIBILITY_HP_LEVEL|flat or %|(0 = flat) (1 = %)|NU|MinHpValue, format(0-flat,1-percent from max health)|
|43|ACTION_T_MOUNT_TO_ENTRY_OR_MODEL|entry|modelId|NU|Creature_template entry(param1) OR modelId (param2) (or 0 for both to unmount)|
|44|ACTION_T_CHANCED_TEXT|Chance|-TextId1|-TextId2|deprecated, use 54. Chance to display the text, TextId1, optionally TextId2. If more than just -TextId1 is defined, randomize. Negative values|
|45|ACTION_T_THROW_AI_EVENT|AIEventType|Radius|Target|Throws an AIEvent of type (Param1) to nearby friendly Npcs in range of (Param2), Invoker of event is Target|
|46|ACTION_T_SET_THROW_MASK|EventTypeMask|NU|NU|Marks for which AIEvents the npc will throw AIEvents on its own|
|47|ACTION_T_SET_STAND_STATE|StandState|NU|NU|Set the unit stand state (Param1) of the current creature|
|48|ACTION_T_CHANGE_MOVEMENT|MovementType|WanderDistance|NU|Change the unit movement type (Param1). If the movement type is Random Movement (1), the WanderDistance (Param2) must be provided. If the movement type is Waypoint Movement (2), Param2 is PathId|
|49|ACTION_T_DYNAMIC_MOVEMENT|Boolean|NU|NU|Enable dynamic movement behavior (1 = on; 0 = off)|
|50|ACTION_T_SET_REACT_STATE|ReactState|NU|NU|Change react state of the creature|
|51|ACTION_T_PAUSE_WAYPOINTS|Boolean|NU|NU|DoPause 0: unpause waypoint 1|
|52|ACTION_T_INTERRUPT_SPELL|CurrentSpellTypes|NU|NU|Interrupt spell in given slot for creature|
|53|ACTION_T_START_RELAY_SCRIPT|RelayIDorTemplate|Target|NU|Launches dbscripts_on_relay script, either static one, or when param1 is < 0 then random one chosen from dbscript_random_templates|
|54|ACTION_T_TEXT_NEW|TextId|Target|TemplateId|Displays text, either static one or when param3 != 0, then random one chosen from dbscript_random_templates|
|55|ACTION_T_ATTACK_START|Target|NU|NU|Starts attacking Target|
|56|ACTION_T_DESPAWN_GUARDIANS|CreatureEntry|NU|NU|Despawns guardian with specified entry, or if 0 despawns all guardians|
|57|ACTION_T_SET_RANGED_MODE|Boolean|chaseDistance|type|Not yet implemented - Enable ranged mode (1 = on; 0 = off), distance to chase at, type of ranged mode (not yet implemented)|

h4. Target

|_. ID|_. Name|_. Description|
|0|TARGET_T_SELF|Targets itself|
|1|TARGET_T_HOSTILE|Targets the current victim (usually the one with the most threat)|
|2|TARGET_T_HOSTILE_SECOND_AGGRO|Targets the unit with the second most threat in the threat list|
|3|TARGET_T_HOSTILE_LAST_AGGRO|Targets the unit with the least threat in the threat list|
|4|TARGET_T_HOSTILE_RANDOM|Targets a random unit from the threat list|
|5|TARGET_T_HOSTILE_RANDOM_NOT_TOP|Targets a random unit from the threat list excluding the one with the most threat|
|6|TARGET_T_ACTION_INVOKER|Targets the unit that caused the event; only for certain events only.|
|7|TARGET_T_ACTION_INVOKER_OWNER|Unit who is responsible for Event to occur (only works for EVENT_T_AGGRO, EVENT_T_KILL, EVENT_T_DEATH, EVENT_T_SPELLHIT, EVENT_T_OOC_LOS, EVENT_T_FRIENDLY_HP, EVENT_T_FRIENDLY_IS_CC, EVENT_T_FRIENDLY_MISSING_BUFF, EVENT_T_RECEIVE_EMOTE, EVENT_T_RECEIVE_AI_EVENT)|
|8|TARGET_T_HOSTILE_RANDOM_PLAYER|Random Player on The Threat List|
|9|TARGET_T_HOSTILE_RANDOM_NOT_TOP_PLAYER|Any Random Player Except Top Threat|
|10|TARGET_T_EVENT_SENDER|Creature who sent a received AIEvent - only triggered by EVENT_T_RECEIVE_AI_EVENT|
|11|TARGET_T_SPAWNER|Owner of unit if exists|
|12|TARGET_T_EVENT_SPECIFIC|Filled by specific event|
|13|TARGET_T_PLAYER_INVOKER|Player who initiated hostile contact with this npc|
|14|TARGET_T_PLAYER_TAPPED|Player who currently holds to score the kill credit from the npc|

h4. castFlags

|_. Bit|_. Name|_. Description|
|1|CAST_INTERRUPT_PREVIOUS|Interrupts any previous spell casting.|
|2|CAST_TRIGGERED|Forces the cast to be instant and ignores any mana/reagents requirements.|
|4|CAST_FORCE_CAST|Forces spell to cast even if the target is possibly out of range or the creature is possibly out of mana|
|8|CAST_NO_MELEE_IF_OOM|Prevents creature from entering melee if out of mana or out of range|
|16|CAST_FORCE_TARGET_SELF|Forces the target to cast this spell on itself|
|32|CAST_AURA_NOT_PRESENT|Only casts the spell on the target if the target does not have the aura from that spell on itself already.|
|64|CAST_IGNORE_UNSELECTABLE_TARGET|Can target UNIT_FLAG_NOT_SELECTABLE - Needed in some scripts|
|128|CAST_SWITCH_CASTER_TARGET|Switches target and caster for spell cast|
|256|CAST_MAIN_SPELL|Marks main spell for AI Type = Range Mode (Warrior / Paladin / Mage)|
|512|CAST_PLAYER_ONLY|Selects only player targets - substitution for EAI not having more params|

h4. Condition Type

(For Event_type 22)

|_. Condition|_. Value 1|_. Value 2|_. Description|
|0 None|0|0|Nothing.|
|1 Aura|SpellID|"effindex"|If the SpellID's aura is on you.|
|2 Item|ItemID|Amount|If you have the item in your inventory.|
|3 Item Equipped|ItemId|Amount|If you have the item equipped on your character.|
|4 Zone ID|ZoneID|NU|Taken from AreaTable.dbc.|
|5 Reputation|FactionID|Minimum Rank|Taken from FactionTemplate.dbc. Exalted is 42000.|
|6 Team|Team Value|NU|Use 469 if alliance, 67 if Horde|
|7 Skill|SkillID|Min Amount|Values taken from SkillLine.dbc.|
|8 Quest Rewarded|QuestID|NU|If you have already completed that QuestID.|
|9 Quest Taken|QuestID|NU|If you are currently on that QuestID.|
|12 Active Event|EventID|NU|This is *not* from your database. This value is from the DBC file enum HolidayIds.|

h4. EventFlags

|_. Bit|_. Name|_. Description|
|1|EFLAG_REPEATABLE|Event repeats (Does not repeat if this flag is not set)|
|2|EFLAG_NORMAL|Event only occurs in Normal instance difficulty|
|4|EFLAG_HEROIC|Event only occurs in Heroic instance difficulty|
|8|EFLAG_RESERVED_3|Used in master for difficulty 2|
|16|EFLAG_RESERVED_4|Used in master for difficulty 3|
|32|EFLAG_RANDOM_ACTION|Random use action1, 2, or 3|
|64|EFLAG_RESERVED_6|Reserved|
|128|EFLAG_DEBUG_ONLY|Event only occurs in debug build|
|256|EFLAG_RANGED_MODE_ONLY|Event only occurs in ranged mode|
|512|EFLAG_MELEE_MODE_ONLY|Event only occurs in melee mode|
|1024|EFLAG_COMBAT_ACTION|Only one per cycle|

h4. Instance_Data_Flags

|_. Value|_. Type|_. Description|
|1|Aggro|Creature SetInCombat|
|2|Evade|Creature remove from Combat|
|3|Death|Creature just die|
|4|Special|Need for more as one enemy in a fight (like 4 horseman)|